{% extends "base.html" %}
{% block title %}Forge Commerce â€” Goods Worth Owning{% endblock %}
{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1>Goods Worth Owning</h1>
        <p>Carefully selected items built to last. No fast fashion, no disposable junk.</p>
        <a href="/products" class="btn btn-primary btn-lg">Browse the Collection</a>
    </div>
</section>

<section class="section">
    <h2 class="section-title">Categories</h2>
    <div class="category-grid">
        {% for cat in categories %}
        <a href="/products?category={{ cat.name | urlencode }}" class="category-card">
            <h3>{{ cat.name }}</h3>
            <p>{{ cat.count }} items</p>
        </a>
        {% endfor %}
    </div>
</section>

<section class="section">
    <h2 class="section-title">Featured</h2>
    <div class="product-grid">
        {% for p in featured_products %}
        <div class="product-card">
            <a href="/products/{{ p.id }}">
                <div class="product-image">
                    <img src="{{ p.image_url }}" alt="{{ p.name }}" loading="lazy">
                </div>
                <div class="product-info">
                    <span class="product-category">{{ p.category }}</span>
                    <h3>{{ p.name }}</h3>
                    <p class="product-price">${{ p.price | round(precision=2) }}</p>
                </div>
            </a>
            <button class="btn btn-primary btn-add-cart"
                hx-post="/api/cart/add"
                hx-vals='{"product_id":"{{ p.id }}","quantity":"1"}'
                hx-target="#cart-count"
                hx-swap="innerHTML"
                hx-indicator=".htmx-indicator">
                Add to Cart
            </button>
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}
